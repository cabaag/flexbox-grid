@import 'queries';
$sizes: (
  default: null,
  xs: $xs-screen, 
  gt-xs: $xs-screen-and-up, 
  sm: $sm-screen, 
  gt-sm: $sm-screen-and-up, 
  md: $md-screen, 
  gt-md: $md-screen-and-up, 
  lg: $lg-screen, 
  gt-lg: $lg-screen-and-up, 
  xl: $xl-screen
);

$flex: (
  grow: 1 1 100%,
  initial: 0 1 auto,
  auto: 1 1 auto,
  none: 0 0 auto,
  noshrink: 1 0 auto,
  nogrow: 0 1 auto,
  0: 1 1 0%
);

.flex {
  flex: 1;
  box-sizing: border-box;
}

@each $name, $value in $flex {
  .flex-#{$name} {
    flex: $value;
    box-sizing: border-box;
    @if($name == 0) {
      max-width: 0;
      max-height: 100%;
    }
  }
}

@each $size-name, $size-value in $sizes {
  @if($size-value != null){
    @media #{$size-value}{
      @for $i from 0 through 100 {
        @if($i % 5==0) {
          .layout-column>.flex-#{$size-name}-#{$i} {
            max-width: 100%;
            max-height: (percentage($i) / 100);
          }
          .flex-#{$size-name}-#{$i},
          .layout-row>.flex-#{$size-name}-#{$i} {
            max-width: percentage($i) / 100;
            max-height: 100%;
          }
          .flex-#{$size-name}-#{$i},
          .layout-column>.flex-#{$size-name}-#{$i},
          .layout-row>.flex-#{$size-name}-#{$i} {
            flex: 1 1 (percentage($i) / 100);
            box-sizing: border-box;
          }

          .layout-#{$size-name}-column>.flex-#{$size-name}-#{$i} {
            max-width: 100%;
            max-height: (percentage($i) / 100);
          }
          .layout-#{$size-name}-row>.flex-#{$size-name}-#{$i} {
            max-width: percentage($i) / 100;
            max-height: 100%;
          }
          .flex-#{$size-name}-#{$i},
          .layout-#{$size-name}-column>.flex-#{$size-name}-#{$i},
          .layout-#{$size-name}-row>.flex-#{$size-name}-#{$i} {
            flex: 1 1 (percentage($i) / 100);
            box-sizing: border-box;
          }
        }
        @if($i % 33==0) {
          .layout-column>.flex-#{$size-name}-#{$i} {
            max-width: 100%;
            max-height: 33.33335%;
          }
          .flex-#{$size-name}-#{$i},
          .layout-row>.flex-#{$size-name}-#{$i} {
            max-width: percentage($i) / 100;
            max-height: 100%;
          }
          .flex-#{$size-name}-#{$i},
          .layout-column>.flex-#{$size-name}-#{$i},
          .layout-row>.flex-#{$size-name}-#{$i} {
            flex: 1 1 33.33335%;
            box-sizing: border-box;
          }

          .layout-#{$size-name}-column>.flex-#{$size-name}-#{$i} {
            max-width: 100%;
            max-height: 33.33335%;
          }
          .layout-#{$size-name}-row>.flex-#{$size-name}-#{$i} {
            max-width: 33.33335;
            max-height: 100%;
          }
          .flex-#{$size-name}-#{$i},
          .layout-#{$size-name}-column>.flex-#{$size-name}-#{$i},
          .layout-#{$size-name}-row>.flex-#{$size-name}-#{$i} {
            flex: 1 1 33.33335%;
            box-sizing: border-box;
          }
        }
        @if($i % 66==0) {
          .layout-column>.flex-#{$size-name}-#{$i} {
            max-width: 100%;
            max-height: 66.66665%;
          }
          .flex-#{$size-name}-#{$i},
          .layout-row>.flex-#{$size-name}-#{$i} {
            max-width: 66.6665%;
            max-height: 100%;
          }
          .flex-#{$size-name}-#{$i},
          .layout-column>.flex-#{$size-name}-#{$i},
          .layout-row>.flex-#{$size-name}-#{$i} {
            flex: 1 1 66.66665%;
            box-sizing: border-box;
          }

          .layout-#{$size-name}-column>.flex-#{$size-name}-#{$i} {
            max-width: 100%;
            max-height: 66.66665%;
          }
          .layout-#{$size-name}-row>.flex-#{$size-name}-#{$i} {
            max-width: percentage($i) / 100;
            max-height: 100%;
          }
          .flex-#{$size-name}-#{$i},
          .layout-#{$size-name}-column>.flex-#{$size-name}-#{$i},
          .layout-#{$size-name}-row>.flex-#{$size-name}-#{$i} {
            flex: 1 1 66.66665%;
            box-sizing: border-box;
          }
        }
      }
    }
  }@else {
    @for $i from 0 through 100 {
      @if($i % 5==0) {
        .layout-column>.flex-#{$i} {
          max-width: 100%;
          max-height: percentage($i) / 100;
        }
        .flex-#{$i},
        .layout-row>.flex-#{$i} {
          max-width: percentage($i) / 100;
          max-height: 100%;
        }
        .layout-column>.flex-#{$i},
        .layout-row>.flex-#{$i} {
          flex: 1 1 (percentage($i) / 100);
          box-sizing: border-box;
        }
      }
      @if($i % 33==0) {
        .layout-column>.flex-#{$i} {
          max-width: 100%;
          max-height: 33.333335%;
        }
        .flex-#{$i},
        .layout-row>.flex-#{$i} {
          max-width: 33.333335%;
          max-height: 100%;
        }
        .layout-column>.flex-#{$i},
        .layout-row>.flex-#{$i} {
          flex: 1 1 33.333335%;
          box-sizing: border-box;
        }
      }
      @if($i % 66==0) {
        .layout-column>.flex-#{$i} {
          max-width: 100%;
          max-height: 66.66665%;
        }
        .flex-#{$i},
        .layout-row>.flex-#{$i} {
          max-width: 66.66665%;
          max-height: 100%;
        }
        .layout-column>.flex-#{$i},
        .layout-row>.flex-#{$i} {
          flex: 1 1 66.66665%;
          box-sizing: border-box;
        }
      }
    }
    .layout-row> .flex {
      min-width: 0;
    }
    .layout-column> .flex {
      min-height: 0;
    }
  }
}
